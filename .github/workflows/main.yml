# This is a basic workflow to help you get started with Actions

name: CI

# Controls when the workflow will run
on:
 workflow_dispatch:
    inputs:
      my_input_name:
        description: 'test input name'
        required: true
        default: abcd_123

jobs:
  build:
    # The type of runner that the job will run on
    runs-on: ubuntu-latest

    # Steps represent a sequence of tasks that will be executed as part of the job
    steps:          
    
      - name: Dynamically set MY_DATE environment variable
        run: echo "MY_DATE=2020-10-07T12:00:00+01:00" >> $GITHUB_ENV
      - name: Test MY_DATE variable
        run: echo ${{ env.MY_DATE }}
    
      - name: Create new branch name
        id: new_br_name
        run: echo "NEW_BR_NAME=${{ github.event.inputs.my_input_name}}_$(date +'%Y%m%d-%h%M')" >> $GITHUB_ENV
        
      - name: Display new branch name
        id: display_new_br_name
        run: echo ${{ env.NEW_BR_NAME }}
